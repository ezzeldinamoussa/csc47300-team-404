<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="friends.css" />
    <title>Friends</title>
  </head>
  <body>
    <header class="page-header">
      <nav class="nav-left">
        <a href="index.html" class="nav-button">Home</a>
        <a href="tasks.html" class="nav-button">Tasks</a>
        <a href="friends.html" class="nav-button active" id="nav-friends-btn">Friends</a>
      </nav>
      <a href="index.html" class="logo">
        <img src="images/purple-logo.png" alt="Streak Quest Logo" />
      </a>
      <nav class="nav-right">
        <a href="task-history.html" class="nav-button">History</a>
        <a href="stats.html" class="nav-button">Stats</a>
        <a href="index.html" class="nav-button">Logout</a>
      </nav>
    </header>

    <main class="app-container">
      <div style="display: flex; gap: 30px; justify-content: center; margin-top: 80px; flex-wrap: wrap;">
        <!-- Leaderboard Section -->
        <div class="leaderboard">
          <div class="leaderboard-header">
            <h2 class="leaderboard-title">Leaderboard</h2>
          </div>

          <div class="leaderboard-body">
            <div class="people-list">
              <ol>
                <!-- Populated by JavaScript -->
              </ol>
            </div>
          </div>
        </div>

        <!-- Add Friends Section -->
        <div class="leaderboard" style="width: 400px;">
          <div class="leaderboard-header">
            <h2 class="leaderboard-title">Add Friends</h2>
          </div>
          <div style="padding: 20px;">
            <div style="display: flex; gap: 8px; margin-bottom: 16px;">
              <input 
                type="text" 
                id="friend-search-input" 
                placeholder="Search by username" 
                style="flex: 1; padding: 10px; border: 1px solid #e6e6e6; border-radius: 8px; font-size: 14px;"
              />
              <button 
                id="friend-search-btn" 
                style="padding: 10px 20px; background: #7c3aed; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;"
              >
                Search
              </button>
            </div>
            <div id="search-results" style="min-height: 50px;"></div>
          </div>
        </div>

        <!-- Friend Requests Section -->
        <div class="leaderboard" style="width: 400px;">
          <div class="leaderboard-header">
            <h2 class="leaderboard-title">Friend Requests</h2>
          </div>
          <div style="padding: 20px;">
            <div id="friend-requests-container">
              <!-- Populated by JavaScript -->
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Notification Toast Container -->
    <div id="notification-container" style="position: fixed; top: 20px; right: 20px; z-index: 10000; display: flex; flex-direction: column; gap: 10px;"></div>

    <!-- Confirmation Modal -->
    <div id="confirm-modal" class="confirm-modal-overlay" style="display: none;">
      <div class="confirm-modal-box">
        <h3 class="confirm-modal-title" id="confirm-modal-title">Confirm Action</h3>
        <p class="confirm-modal-message" id="confirm-modal-message"></p>
        <div class="confirm-modal-buttons">
          <button class="confirm-modal-cancel" id="confirm-modal-cancel">Cancel</button>
          <button class="confirm-modal-confirm" id="confirm-modal-confirm">Confirm</button>
        </div>
      </div>
    </div>
    
    <script type="module" src="./friends.ts"></script>

  </body>
</html>